This is a source code for the paper "On the discrete logarithm problem in the ideal class group of multiquadratic fields".

It is build on top of the implementation of the Biasse-van Vredendaal algorithm for the class group computation of real multiquadratic fields:
* https://scarecryptow.org/publications/multiclass.html

# Requirements
* Sage 9.4+

# How to compile
1. Run ```make```
2. Edit paths in Makefile according to your installation if code above fails.

# Folder structure
* tests/ - unit tests
* trees/ - trees describing prime ideal splitting over subfields. Factor base is loaded from these files. They are generated by ```trees_generation.sage``` script.
* relations/ - class group relation matrices for every subfield. They are generated by ```testrelations.sage``` script.

# How to use
1. Set the target field in the file trees_generation.sage (food variable).
2. Run ```sage trees_generation.sage``` to generate trees.
3. Run ```sage testrelations.sage``` to compute class group and relation matrices for subfields.
4. Run ```sage clgp.sage``` to compute discrete logarithm of a random ideal using Algorithm 4 from the paper.
5. Run ```sage clgp.sage``` to compute discrete logarithm assuming that target ideal factors over factor base. You can add primes dividing norm of the target ideal to ```PRIMES``` variable in ```trees_generation.sage``` to include them to the factor base. This requires recomputation of trees and relation matrices.
